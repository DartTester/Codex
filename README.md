# Codex
Во-первых, следует упомянуть о том, что если в данном API требуется авторизация, то первым делом я начну с проверок безопасности и проверю поочередно все методы, что они возвращают ожидаемый ответ.

## Проверка безопасности
В проверках использую существующий customer_id
          

Проверка        | Результат
----------------|----------------------
Выполнить POST /api/customer/ 44ca222b-a948-4c23-8f3b-c412515b47b6/purchase       | 401 Error: Unauthorized   
Выполнить GET /api/customer/44ca222b-a948-4c23-8f3b-c412515b47b6/points      | 401 Error: Unauthorized   
Выполнить POST /api/discount/calculate   | 401 Error: Unauthorized   

Во-вторых, при наличии разграничений доступов по определенным ролям в системе, я авторизуюсь в API и проверю, что при отсутствии нужных ролей получу ожидаемый результат.
## Проверка разграничения прав доступа
В проверках использую существующий customer_id

Проверка        | Результат
----------------|----------------------
Выполнить POST /api/customer/ 44ca222b-a948-4c23-8f3b-c412515b47b6/purchase      | 403 Forbidden 
Выполнить GET /api/customer/44ca222b-a948-4c23-8f3b-c412515b47b6/points      | 403 Forbidden   
Выполнить POST /api/discount/calculate   | 403 Forbidden  


## Начисление баллов за покупки POST /api/customer/{customer_id}/purchase
Предполагаю, что в данном методе в запросе также у нас есть полезная нагрузка, в которой передаются на вход некоторые данные по конкретной покупке для рассчета бонусов. На бэке происходит рассчет положенных бонусов и в ответе возвращается нам обновленное количество бонусных баллов клиента (общий баланс).

Допустим, тело выглядит так:{
"paymentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
"purchaseSum": 0,
"date": "2024-03-30T08:14:56.929Z"
}

В контексте задания тестирую "purchaseSum" в теле и {customer_id} в заголовке
Проверю все коды ответов, прописанные в ТА:

Проверка        | Результат
----------------|----------------------
Указать существующий customer_id и "purchaseSum": 1500 | 200 ОК, в ответе баланс +1 бонус, в бд данные записались
Указать НЕсуществующий customer_id, но в валидном формате (guid) и "purchaseSum": 1500 | 404 Forbidden, в бд данные не записаны     
Указать существующий customer_id и "purchaseSum": “тест” (невалидное значение)| 400 Bad Request, в бд данные не записаны





